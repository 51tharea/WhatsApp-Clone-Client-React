(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,n,t){e.exports=t(346)},344:function(e,n,t){},346:function(e,n,t){"use strict";t.r(n);var a=t(65),r=t(0),i=t(91),c=t(23),o=t(47),s=t(354),u=t(353),l=t(24),p=t(132),m=t(159),d=t(133),h=t(137),f=t(355),g=t(356),b=t(3),v=t(7),x=t.n(v);function y(){var e=Object(b.a)(["\n  fragment Message on Message {\n    id\n    chat {\n      id\n    }\n    sender {\n      id\n      name\n    }\n    content\n    createdAt\n    recipients {\n      user {\n        id\n      }\n      message {\n        id\n        chat {\n          id\n        }\n      }\n      chat {\n        id\n      }\n      receivedAt\n      readAt\n    }\n    ownership\n  }\n"]);return y=function(){return e},e}var w=x()(y());function E(){var e=Object(b.a)(["\n  fragment Chat on Chat {\n    id\n    name\n    picture\n    allTimeMembers {\n      id\n      name\n      picture\n    }\n    owner {\n      id\n    }\n    isGroup\n    lastMessage {\n      ...Message\n    }\n  }\n  ","\n"]);return E=function(){return e},e}var N=x()(E(),w);function j(){var e=Object(b.a)(["\n  fragment FullChat on Chat {\n    ...Chat\n    messages {\n      ...Message\n    }\n  }\n  ","\n  ","\n"]);return j=function(){return e},e}var O=x()(j(),N,w);function C(){var e=Object(b.a)(["\n  fragment User on User {\n    id\n    name\n    picture\n  }\n"]);return C=function(){return e},e}var S=x()(C());function k(){var e=Object(b.a)(["\n  query Chats {\n    chats {\n      ...Chat\n    }\n  }\n  ","\n"]);return k=function(){return e},e}var M=x()(k(),N);function I(){var e=Object(b.a)(["\n  query Me {\n    me {\n      ...User\n    }\n  }\n  ","\n"]);return I=function(){return e},e}var L=x()(I(),S);function A(){var e=Object(b.a)(["\n  query Users {\n    users {\n      ...User\n    }\n  }\n  ","\n"]);return A=function(){return e},e}var D=x()(A(),S);function G(){var e=Object(b.a)(["\n  subscription ChatAdded {\n    chatAdded {\n      ...Chat\n    }\n  }\n  ","\n"]);return G=function(){return e},e}var U=x()(G(),N);function F(){var e=Object(b.a)(["\n  subscription ChatUpdated {\n    chatUpdated {\n      ...Chat\n    }\n  }\n  ","\n"]);return F=function(){return e},e}var $=x()(F(),N);function z(){var e=Object(b.a)(["\n  subscription MessageAdded {\n    messageAdded {\n      ...Message\n    }\n  }\n  ","\n"]);return z=function(){return e},e}var _=x()(z(),w);function B(){var e=Object(b.a)(["\n  subscription UserAdded {\n    userAdded {\n      ...User\n    }\n  }\n  ","\n"]);return B=function(){return e},e}var q=x()(B(),S);function P(){var e=Object(b.a)(["\n  subscription UserUpdated {\n    userUpdated {\n      ...User\n    }\n  }\n  ","\n"]);return P=function(){return e},e}var Q=x()(P(),S),T=t(11),R=t(135),W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.onSubscriptionData,a=Object(r.useRef)(null),c=Object(i.b)(),o=Object(r.useState)({}),s=Object(T.a)(o,2),u=s[0],l=s[1],p=Object(r.useState)(null),m=Object(T.a)(p,2),d=m[0],h=m[1],f=Object(r.useState)(!0),g=Object(T.a)(f,2),b=g[0],v=g[1],x={query:e,variables:n.variables,fetchPolicy:n.fetchPolicy};return Object(r.useEffect)(function(){a.current=x;var e=c.subscribe(x).subscribe({next:function(e){var n=e.data;l(n),t&&t({client:c,subscriptionData:n})},error:function(e){h(e),v(!1)},complete:function(){v(!1)}});return function(){e.unsubscribe()}},[R(a.current,x)?a.current:x]),Object(r.useMemo)(function(){return{data:u,error:d,loading:b}},[u,d,b])},H=r.createContext(null),J=function(){return Object(r.useContext)(H)},X=function(e){return function(n){if(!V())return r.createElement(g.a,{to:"/sign-in"});var t=Object(f.a)(L);return t.error?r.createElement(g.a,{to:"/sign-in"}):(W(U,{onSubscriptionData:function(e){var n,t=e.client,a=e.subscriptionData.chatAdded;t.writeFragment({id:Object(s.b)(a),fragment:N,fragmentName:"Chat",data:a});try{n=t.readQuery({query:M}).chats}catch(r){}n&&!n.some(function(e){return e.id===a.id})&&(n.unshift(a),t.writeQuery({query:M,data:{chats:n}}))}}),W($,{onSubscriptionData:function(e){var n=e.client,t=e.subscriptionData.chatUpdated;n.writeFragment({id:Object(s.b)(t),fragment:N,fragmentName:"Chat",data:t})}}),W(_,{onSubscriptionData:function(e){var n,t,a=e.client,r=e.subscriptionData.messageAdded;a.writeFragment({id:Object(s.b)(r),fragment:w,data:r});try{n=a.readFragment({id:Object(s.b)(r.chat),fragment:O,fragmentName:"FullChat"})}catch(o){}n&&!n.messages.some(function(e){return e.id===r.id})&&(n.messages.push(r),n.lastMessage=r,a.writeFragment({id:Object(s.b)(n),fragment:O,fragmentName:"FullChat",data:n}));try{t=a.readQuery({query:M}).chats}catch(o){}if(t){var i=t.findIndex(function(e){return e.id===r.chat.id}),c=t[i];t.splice(i,1),t.unshift(c),a.writeQuery({query:M,data:{chats:t}})}}}),W(q,{onSubscriptionData:function(e){var n,t=e.client,a=e.subscriptionData.userAdded;t.writeFragment({id:Object(s.b)(a),fragment:S,data:a});try{n=t.readQuery({query:D}).users}catch(r){}n&&!n.some(function(e){return e.id===a.id})&&(n.push(a),t.writeQuery({query:D,data:{users:n}}))}}),W(Q,{onSubscriptionData:function(e){var n=e.client,t=e.subscriptionData.userUpdated;n.writeFragment({id:Object(s.b)(t),fragment:S,data:t})}}),r.createElement(H.Provider,{value:t.data.me},r.createElement(e,n)))}},K=function(e){localStorage.setItem("Authorization",e)},V=function(){return localStorage.getItem("Authorization")||null},Y=function(e){var n=e.username,t=e.password,a="Basic ".concat(btoa("".concat(n,":").concat(t)));return fetch("".concat("http://localhost:4000","/signin"),{method:"POST",headers:{Authorization:a}}).then(function(e){if(!(e.status<400))return Promise.reject(e.statusText);K(a)})},Z=function(e){var n=e.username,t=e.password,a=e.name;return fetch("".concat("http://localhost:4000","/signup"),{method:"POST",body:JSON.stringify({name:a}),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Basic ".concat(btoa("".concat(n,":").concat(t)))}})},ee=function(){return localStorage.removeItem("Authorization"),ue.clearStore()},ne="http://localhost:4000/graphql",te=ne.replace(/^https?/,"ws"),ae=new m.a({uri:ne}),re=new d.a({uri:te,options:{reconnect:!0,connectionParams:function(){return{authToken:V()}}}}),ie=Object(p.a)(function(e,n){var t=n.headers,a=V();return{headers:Object(o.a)({},t,{Authorization:a})}}),ce=Object(l.d)(function(e){var n=e.query,t=Object(h.e)(n),a=t.kind,r=t.operation;return"OperationDefinition"===a&&"subscription"===r},re,ie.concat(ae)),oe=l.a.from([ce]),se=new s.a,ue=new u.a({link:oe,cache:se}),le=t(357),pe=t(358),me=t(6),de=t(88);function he(){var e=Object(b.a)(["\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n\n  > div {\n    position: absolute;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n"]);return he=function(){return e},e}var fe=function(e){return Object(de.b)(e,{stiffness:174,damping:24})},ge=function(e){return{transform:"translateX(".concat(e.offset,"%)")}},be=Object(me.a)(de.a).attrs(function(){return{atEnter:{offset:100},atLeave:{offset:fe(-100)},atActive:{offset:fe(0)},mapStyles:ge}})(he()),ve=t(13),xe=t.n(ve),ye=t(28),we=t.n(ye),Ee=function(e){var n=e.history,t=Object(r.useState)(""),a=Object(T.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(""),s=Object(T.a)(o,2),u=s[0],l=s[1],p=Object(r.useState)(""),m=Object(T.a)(p,2),d=m[0],h=m[1];return r.createElement("div",{className:"SignInForm Screen"},r.createElement("form",null,r.createElement("legend",null,"Sign in"),r.createElement("div",{style:{width:"100%"}},r.createElement(we.a,{className:"AuthScreen-text-field",label:"Username",value:i,onChange:function(e){var n=e.target;h(""),c(n.value)},margin:"normal",placeholder:"Enter your username"}),r.createElement(we.a,{className:"AuthScreen-text-field",label:"Password",type:"password",value:u,onChange:function(e){var n=e.target;h(""),l(n.value)},margin:"normal",placeholder:"Enter your password"})),r.createElement(xe.a,{type:"button",color:"secondary",variant:"contained",disabled:!(i&&u),onClick:function(){Y({username:i,password:u}).then(function(){n.push("/chats")}).catch(function(e){h(e.message||e)})}},"Sign in"),r.createElement("div",{className:"AuthScreen-error"},d),r.createElement("span",{className:"AuthScreen-alternative"},"Don't have an account yet? ",r.createElement("a",{onClick:function(){n.push("/sign-up")}},"Sign up!"))))},Ne=function(e){var n=e.history,t=Object(r.useState)(""),a=Object(T.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(""),s=Object(T.a)(o,2),u=s[0],l=s[1],p=Object(r.useState)(""),m=Object(T.a)(p,2),d=m[0],h=m[1],f=Object(r.useState)(""),g=Object(T.a)(f,2),b=g[0],v=g[1],x=Object(r.useState)(""),y=Object(T.a)(x,2),w=y[0],E=y[1];return r.createElement("div",{className:"SignUpForm Screen"},r.createElement("form",null,r.createElement("legend",null,"Sign up"),r.createElement("div",{style:{float:"left",width:"calc(50% - 10px)",paddingRight:"10px"}},r.createElement(we.a,{className:"AuthScreen-text-field",label:"Name",value:i,onChange:function(e){var n=e.target;E(""),c(n.value)},autoComplete:"off",margin:"normal"}),r.createElement(we.a,{className:"AuthScreen-text-field",label:"Username",value:u,onChange:function(e){var n=e.target;E(""),l(n.value)},autoComplete:"off",margin:"normal"})),r.createElement("div",{style:{float:"right",width:"calc(50% - 10px)",paddingLeft:"10px"}},r.createElement(we.a,{className:"AuthScreen-text-field",label:"Old password",type:"password",value:d,onChange:function(e){var n=e.target;E(""),h(n.value)},autoComplete:"off",margin:"normal"}),r.createElement(we.a,{className:"AuthScreen-text-field",label:"New password",type:"password",value:b,onChange:function(e){var n=e.target;E(""),v(n.value)},autoComplete:"off",margin:"normal"})),r.createElement(xe.a,{type:"button",color:"secondary",variant:"contained",disabled:!(i&&u&&d&&d===b),onClick:function(){Z({username:u,password:b,name:i}).then(function(){n.push("/sign-in")}).catch(function(e){E(e.message||e)})}},"Sign up"),r.createElement("div",{className:"AuthScreen-error"},w),r.createElement("span",{className:"AuthScreen-alternative"},"Already have an accout? ",r.createElement("a",{onClick:function(){n.push("/sign-in")}},"Sign in!"))))};function je(){var e=Object(b.a)(["\n  background: radial-gradient(rgb(34, 65, 67), rgb(17, 48, 50)),\n    url(/assets/chat-background.jpg) no-repeat;\n  background-size: cover;\n  background-blend-mode: multiply;\n  color: white;\n\n  .AuthScreen-intro {\n    height: 265px;\n  }\n\n  .AuthScreen-icon {\n    width: 125px;\n    height: auto;\n    margin-left: auto;\n    margin-right: auto;\n    padding-top: 70px;\n    display: block;\n  }\n\n  .AuthScreen-title {\n    width: 100%;\n    text-align: center;\n    color: white;\n  }\n\n  .AuthScreen-text-field {\n    width: 100%;\n    position: relative;\n  }\n\n  .AuthScreen-text-field > div::before {\n    border-color: white !important;\n  }\n\n  .AuthScreen-error {\n    position: absolute;\n    color: red;\n    font-size: 15px;\n    margin-top: 20px;\n  }\n\n  .AuthScreen-alternative {\n    position: absolute;\n    bottom: 10px;\n    left: 10px;\n\n    a {\n      color: var(--secondary-bg);\n    }\n  }\n\n  .Screen {\n    height: calc(100% - 265px);\n  }\n\n  form {\n    padding: 20px;\n\n    > div {\n      padding-bottom: 35px;\n    }\n  }\n\n  legend {\n    font-weight: bold;\n    color: white;\n  }\n\n  label {\n    color: white !important;\n  }\n\n  input {\n    color: white;\n\n    &::placeholder {\n      color: var(--primary-bg);\n    }\n  }\n\n  button {\n    width: 100px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: var(--secondary-bg) !important;\n\n    &[disabled] {\n      color: #38a81c;\n    }\n\n    &:not([disabled]) {\n      color: white;\n    }\n  }\n"]);return je=function(){return e},e}var Oe=me.a.div(je()),Ce=function(e){e.history,e.location;return r.createElement(Oe,{className:"AuthScreen Screen"},r.createElement("div",{className:"AuthScreen-intro"},r.createElement("img",{src:"assets/whatsapp-icon.png",className:"AuthScreen-icon"}),r.createElement("h2",{className:"AuthScreen-title"},"WhatsApp Clone")),r.createElement(be,null,r.createElement(pe.a,{exact:!0,path:"/sign-in",component:Ee}),r.createElement(pe.a,{exact:!0,path:"/sign-up",component:Ne})))},Se=t(146),ke=t.n(Se);function Me(){var e=Object(b.a)(["\n  background-color: var(--primary-bg);\n  color: var(--primary-text);\n  font-size: 20px;\n  line-height: 40px;\n\n  .","-body {\n    width: 100%;\n  }\n"]);return Me=function(){return e},e}var Ie=Object(me.a)(ke.a)(Me(),"Navbar"),Le=function(e){var n=e.children;return r.createElement(Ie,{className:"".concat("Navbar")},r.createElement("div",{className:"".concat("Navbar","-body")},n))},Ae=t(34),De=t.n(Ae),Ge=t(32),Ue=t.n(Ge),Fe=t(54),$e=t.n(Fe),ze=t(31),_e=t.n(ze),Be=t(148),qe=t.n(Be),Pe=t(147),Qe=t.n(Pe),Te=t(66),Re=t.n(Te),We=t(352);function He(){var e=Object(b.a)(["\n  mutation ChatNavbarMutation($chatId: ID!) {\n    removeChat(chatId: $chatId)\n  }\n"]);return He=function(){return e},e}function Je(){var e=Object(b.a)(["\n  query ChatNavbarQuery($chatId: ID!) {\n    chat(chatId: $chatId) {\n      ...Chat\n    }\n  }\n  ","\n"]);return Je=function(){return e},e}function Xe(){var e=Object(b.a)(["\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  margin-left: -20px;\n\n  .ChatNavbar-title {\n    line-height: 56px;\n  }\n\n  .ChatNavbar-back-button {\n    color: var(--primary-text);\n  }\n\n  .ChatNavbar-picture {\n    height: 40px;\n    width: 40px;\n    margin-top: 3px;\n    margin-left: -22px;\n    object-fit: cover;\n    padding: 5px;\n    border-radius: 50%;\n  }\n\n  .ChatNavbar-rest {\n    flex: 1;\n    justify-content: flex-end;\n  }\n\n  .ChatNavbar-options-btn {\n    float: right;\n    height: 100%;\n    font-size: 1.2em;\n    margin-right: -15px;\n    color: var(--primary-text);\n  }\n\n  .ChatNavbar-options-item svg {\n    margin-right: 10px;\n    padding-left: 15px;\n  }\n"]);return Xe=function(){return e},e}var Ke=me.a.div(Xe()),Ve=x()(Je(),N),Ye=x()(He()),Ze=function(e){var n=e.chatId,t=e.history,a=Object(f.a)(Ve,{variables:{chatId:n}}).data.chat,i=Object(We.a)(Ye,{variables:{chatId:n},update:function(e,n){var t,a=n.data.removeChat;e.writeFragment({id:Object(s.b)({__typename:"Chat",id:a}),fragment:N,fragmentName:"Chat",data:null});try{t=e.readQuery({query:M}).chats}catch(i){}if(t&&t.some(function(e){return e.id===a})){var r=t.findIndex(function(e){return e.id===a});t.splice(r,1),e.writeQuery({query:M,data:{chats:t}})}}}),c=Object(r.useState)(!1),o=Object(T.a)(c,2),u=o[0],l=o[1],p=function(){t.push("/chats")};return r.createElement(Ke,{className:name},r.createElement(xe.a,{className:"ChatNavbar-back-button",onClick:p},r.createElement(_e.a,null)),r.createElement("img",{className:"ChatNavbar-picture",src:a.picture||(a.isGroup?"/assets/default-group-pic.jpg":"/assets/default-profile-pic.jpg")}),r.createElement("div",{className:"ChatNavbar-title"},a.name),r.createElement("div",{className:"ChatNavbar-rest"},r.createElement(xe.a,{className:"ChatNavbar-options-btn",onClick:l.bind(null,!0)},r.createElement(Re.a,null))),r.createElement($e.a,{open:u,onClose:l.bind(null,!1),anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.createElement(Ke,{style:{marginLeft:"-15px"}},r.createElement(De.a,null,a.isGroup&&r.createElement(Ue.a,{className:"ChatNavbar-options-item",button:!0,onClick:function(){l(!1),t.push("/chats/".concat(n,"/details"),{chat:a})}},r.createElement(Qe.a,null),"Details"),r.createElement(Ue.a,{className:"ChatNavbar-options-item",button:!0,onClick:function(){l(!1),i().then(p)}},r.createElement(qe.a,null),"Delete")))))},en=t(149),nn=t.n(en),tn=t(67);function an(){var e=Object(b.a)(["\n  mutation MessageBoxMutation($chatId: ID!, $content: String!) {\n    addMessage(chatId: $chatId, content: $content) {\n      ...Message\n    }\n  }\n  ","\n"]);return an=function(){return e},e}function rn(){var e=Object(b.a)(["\n  display: flex;\n  height: 50px;\n  padding: 5px;\n  width: calc(100% - 10px);\n\n  .MessageBox-input {\n    width: calc(100% - 50px);\n    border: none;\n    border-radius: 999px;\n    padding: 10px;\n    padding-left: 20px;\n    padding-right: 20px;\n    font-size: 15px;\n    outline: none;\n    box-shadow: 0 1px silver;\n    font-size: 18px;\n    line-height: 45px;\n  }\n\n  .MessageBox-button {\n    min-width: 50px;\n    width: 50px;\n    border-radius: 999px;\n    background-color: var(--primary-bg);\n    margin: 0 5px;\n    margin-right: 0;\n    color: white;\n    padding-left: 20px;\n\n    svg {\n      margin-left: -3px;\n    }\n  }\n"]);return rn=function(){return e},e}var cn=me.a.div(rn()),on=x()(an(),w),sn=function(e){var n=e.chatId,t=Object(r.useState)(""),a=Object(T.a)(t,2),i=a[0],c=a[1],o=J(),u=Object(We.a)(on,{variables:{chatId:n,content:i},optimisticResponse:{__typename:"Mutation",addMessage:{id:Object(tn.time)(),__typename:"Message",chat:{id:n,__typename:"Chat"},sender:{id:o.id,__typename:"User",name:o.name},content:i,createdAt:new Date,type:0,recipients:[],ownership:!0}},update:function(e,n){var t,a=n.data.addMessage;e.writeFragment({id:Object(s.b)(a),fragment:w,data:a});try{t=e.readFragment({id:Object(s.b)(a.chat),fragment:O,fragmentName:"FullChat"})}catch(r){}t&&!t.messages.some(function(e){return e.id===a.id})&&(t.messages.push(a),t.lastMessage=a,e.writeFragment({id:Object(s.b)(a.chat),fragment:O,fragmentName:"FullChat",data:t}))}}),l=function(){i&&(u(),c(""))};return r.createElement(cn,{className:"MessageBox"},r.createElement("input",{className:"MessageBox-input",type:"text",placeholder:"Type a message",value:i,onKeyPress:function(e){13===e.charCode&&l()},onChange:function(e){var n=e.target;c(n.value)}}),r.createElement(xe.a,{variant:"contained",color:"primary",className:"MessageBox-button",onClick:l},r.createElement(nn.a,null)))},un=t(68);function ln(){var e=Object(b.a)(["\n  query MessagesListQuery($chatId: ID!) {\n    chat(chatId: $chatId) {\n      ...FullChat\n    }\n  }\n  ","\n"]);return ln=function(){return e},e}function pn(){var e=Object(b.a)(["\n  display: block;\n  height: calc(100% - 60px);\n  width: calc(100% - 30px);\n  overflow-y: overlay;\n  padding: 0 15px;\n\n  .MessagesList-message {\n    display: inline-block;\n    position: relative;\n    max-width: 100%;\n    border-radius: 7px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n    margin-top: 10px;\n    margin-bottom: 10px;\n    clear: both;\n\n    &::after {\n      content: '';\n      display: table;\n      clear: both;\n    }\n  }\n\n  .MessagesList-message-mine {\n    float: right;\n    background-color: #dcf8c6;\n\n    &::before {\n      right: -11px;\n      background-image: url(/assets/message-mine.png);\n    }\n  }\n\n  .MessagesList-message-others {\n    float: left;\n    background-color: #fff;\n\n    &::before {\n      left: -11px;\n      background-image: url(/assets/message-other.png);\n    }\n  }\n\n  .MessagesList-message-others::before,\n  .MessagesList-message-mine::before {\n    content: '';\n    position: absolute;\n    bottom: 3px;\n    width: 12px;\n    height: 19px;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: contain;\n  }\n\n  .MessagesList-message-sender {\n    font-weight: bold;\n    margin-left: 5px;\n    margin-top: 5px;\n  }\n\n  .MessagesList-message-contents {\n    padding: 5px 7px;\n    word-wrap: break-word;\n\n    &::after {\n      content: ' \0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0\0a0';\n      display: inline;\n    }\n  }\n\n  .MessagesList-message-timestamp {\n    position: absolute;\n    bottom: 2px;\n    right: 7px;\n    color: gray;\n    font-size: 12px;\n  }\n"],["\n  display: block;\n  height: calc(100% - 60px);\n  width: calc(100% - 30px);\n  overflow-y: overlay;\n  padding: 0 15px;\n\n  .MessagesList-message {\n    display: inline-block;\n    position: relative;\n    max-width: 100%;\n    border-radius: 7px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n    margin-top: 10px;\n    margin-bottom: 10px;\n    clear: both;\n\n    &::after {\n      content: '';\n      display: table;\n      clear: both;\n    }\n  }\n\n  .MessagesList-message-mine {\n    float: right;\n    background-color: #dcf8c6;\n\n    &::before {\n      right: -11px;\n      background-image: url(/assets/message-mine.png);\n    }\n  }\n\n  .MessagesList-message-others {\n    float: left;\n    background-color: #fff;\n\n    &::before {\n      left: -11px;\n      background-image: url(/assets/message-other.png);\n    }\n  }\n\n  .MessagesList-message-others::before,\n  .MessagesList-message-mine::before {\n    content: '';\n    position: absolute;\n    bottom: 3px;\n    width: 12px;\n    height: 19px;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: contain;\n  }\n\n  .MessagesList-message-sender {\n    font-weight: bold;\n    margin-left: 5px;\n    margin-top: 5px;\n  }\n\n  .MessagesList-message-contents {\n    padding: 5px 7px;\n    word-wrap: break-word;\n\n    &::after {\n      content: ' \\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0\\00a0';\n      display: inline;\n    }\n  }\n\n  .MessagesList-message-timestamp {\n    position: absolute;\n    bottom: 2px;\n    right: 7px;\n    color: gray;\n    font-size: 12px;\n  }\n"]);return pn=function(){return e},e}var mn=me.a.div(pn()),dn=x()(ln(),O),hn=function(e){var n=e.chatId,t=Object(f.a)(dn,{variables:{chatId:n}}).data.chat,a=t.messages,i=t.isGroup,o=Object(r.useRef)(null),s=function(){o.current&&(c.findDOMNode(o.current).scrollTop=Number.MAX_SAFE_INTEGER)};return Object(r.useEffect)(s,[o.current]),Object(r.useEffect)(s,[a.length]),r.createElement(mn,{className:name,ref:o},a&&a.map(function(e){return r.createElement("div",{key:e.id,className:"MessagesList-message ".concat(e.ownership?"MessagesList-message-mine":"MessagesList-message-others")},i&&!e.ownership&&r.createElement("div",{className:"MessagesList-message-sender"},e.sender.name),r.createElement("div",{className:"MessagesList-message-contents"},e.content),r.createElement("span",{className:"MessagesList-message-timestamp"},un(e.createdAt).format("HH:mm")))}))};function fn(){var e=Object(b.a)(["\n  .ChatScreen-body {\n    position: relative;\n    background: url(/assets/chat-background.jpg);\n    width: 100%;\n    height: calc(100% - 56px);\n\n    .MessagesList {\n      position: absolute;\n      height: calc(100% - 60px);\n      top: 0;\n    }\n\n    .MessageBox {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n    }\n\n    .AddChatButton {\n      right: 0;\n      bottom: 0;\n    }\n  }\n"]);return fn=function(){return e},e}var gn=me.a.div(fn()),bn=function(e){var n=e.match,t=e.history,a=n.params.chatId;return r.createElement(gn,{className:"ChatScreen Screen"},r.createElement(Le,null,r.createElement(r.Suspense,{fallback:null},r.createElement(Ze,{chatId:a,history:t}))),r.createElement("div",{className:"ChatScreen-body"},r.createElement(r.Suspense,{fallback:null},r.createElement(hn,{chatId:a})),r.createElement(r.Suspense,{fallback:null},r.createElement(sn,{chatId:a}))))},vn=t(150),xn=t.n(vn);function yn(){var e=Object(b.a)(["\n  position: fixed;\n  right: 10px;\n  bottom: 10px;\n\n  button {\n    min-width: 50px;\n    width: 50px;\n    height: 50px;\n    border-radius: 999px;\n    background-color: var(--secondary-bg);\n    color: white;\n  }\n"]);return yn=function(){return e},e}var wn=me.a.div(yn()),En=function(e){var n=e.history;return r.createElement(wn,{className:"AddChatButton"},r.createElement(xe.a,{variant:"contained",color:"secondary",onClick:function(){n.push("/new-chat")}},r.createElement(xn.a,null)))};function Nn(){var e=Object(b.a)(["\n  query ChatsListQuery {\n    chats {\n      ...Chat\n    }\n  }\n  ","\n"]);return Nn=function(){return e},e}function jn(){var e=Object(b.a)(["\n  height: calc(100% - 56px);\n  overflow-y: overlay;\n\n  .ChatsList-chats-list {\n    padding: 0;\n  }\n\n  .ChatsList-chat-item {\n    height: 76px;\n    padding: 0 15px;\n    display: flex;\n  }\n\n  .ChatsList-profile-pic {\n    height: 50px;\n    width: 50px;\n    object-fit: cover;\n    border-radius: 50%;\n  }\n\n  .ChatsList-info {\n    width: calc(100% - 60px);\n    height: calc(100% - 30px);\n    padding: 15px 0;\n    margin-left: 10px;\n    border-bottom: 0.5px solid silver;\n    position: relative;\n  }\n\n  .ChatsList-name {\n    margin-top: 5px;\n  }\n\n  .ChatsList-last-message {\n    color: gray;\n    font-size: 15px;\n    margin-top: 5px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n\n  .ChatsList-timestamp {\n    position: absolute;\n    color: gray;\n    top: 20px;\n    right: 0;\n    font-size: 13px;\n  }\n"]);return jn=function(){return e},e}var On=me.a.div(jn()),Cn=x()(Nn(),N),Sn=function(e){var n=e.history,t=Object(f.a)(Cn).data.chats,a=(t.map(function(e){return e.id}),function(e){n.push("chats/".concat(e))});return r.createElement(On,{className:"ChatsList"},r.createElement(De.a,{className:"ChatsList-chats-list"},t&&t.map(function(e){return r.createElement(Ue.a,{key:e.id,className:"ChatsList-chat-item",button:!0,onClick:a.bind(null,e.id)},r.createElement("img",{className:"ChatsList-profile-pic",src:e.picture||(e.isGroup?"/assets/default-group-pic.jpg":"/assets/default-profile-pic.jpg")}),r.createElement("div",{className:"ChatsList-info"},r.createElement("div",{className:"ChatsList-name"},e.name),e.lastMessage&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ChatsList-last-message"},e.lastMessage.content),r.createElement("div",{className:"ChatsList-timestamp"},un(e.lastMessage.createdAt).format("HH:mm")))))})))},kn=t(152),Mn=t.n(kn),In=t(151),Ln=t.n(In);function An(){var e=Object(b.a)(["\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n\n  .ChatsNavbar-title {\n    line-height: 56px;\n  }\n\n  .ChatsNavbar-options-btn {\n    float: right;\n    height: 100%;\n    font-size: 1.2em;\n    margin-right: -15px;\n    color: var(--primary-text);\n  }\n\n  .ChatsNavbar-rest {\n    flex: 1;\n    justify-content: flex-end;\n  }\n\n  .ChatsNavbar-options-item svg {\n    margin-right: 10px;\n  }\n"]);return An=function(){return e},e}var Dn=me.a.div(An()),Gn=function(e){var n=e.history,t=Object(r.useState)(!1),a=Object(T.a)(t,2),i=a[0],c=a[1];return r.createElement(Dn,{className:"ChatsNavbar"},r.createElement("span",{className:"ChatsNavbar-title"},"WhatsApp Clone"),r.createElement("div",{className:"ChatsNavbar-rest"},r.createElement(xe.a,{className:"ChatsNavbar-options-btn",onClick:c.bind(null,!0)},r.createElement(Re.a,null))),r.createElement($e.a,{open:i,onClose:c.bind(null,!1),anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.createElement(Dn,null,r.createElement(De.a,null,r.createElement(Ue.a,{className:"ChatsNavbar-options-item",button:!0,onClick:function(){c(!1),n.push("/settings")}},r.createElement(Ln.a,null),"Settings"),r.createElement(Ue.a,{className:"ChatsNavbar-options-item",button:!0,onClick:function(){c(!1),ee(),n.push("/sign-in")}},r.createElement(Mn.a,null),"Sign Out")))))},Un=function(e){var n=e.history;return r.createElement("div",{className:"ChatsListScreen Screen"},r.createElement(Le,null,r.createElement(Gn,{history:n})),r.createElement(r.Suspense,{fallback:null},r.createElement(Sn,{history:n})),r.createElement(En,{history:n}))},Fn=t(48),$n=t.n(Fn),zn=t(69),_n=function(){return new Promise(function(e,n){var t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=function(n){var t=n.target;e(t.files[0])},t.onerror=n,t.click()})},Bn=function(e){var n=new FormData;return n.append("file",e),n.append("upload_preset","profile-pic"),fetch("".concat("http://localhost:4000","/upload-profile-pic"),{method:"POST",body:n,headers:{Authorization:V()}}).then(function(e){return e.json()})},qn=t(153),Pn=t.n(qn);function Qn(){var e=Object(b.a)(["\n  mutation CompleteGroupButtonMutation(\n    $userIds: [ID!]!\n    $groupName: String!\n    $groupPicture: String\n  ) {\n    addGroup(userIds: $userIds, groupName: $groupName, groupPicture: $groupPicture) {\n      ...Chat\n    }\n  }\n  ","\n"]);return Qn=function(){return e},e}function Tn(){var e=Object(b.a)(["\n  position: fixed;\n  right: 10px;\n  bottom: 10px;\n\n  button {\n    min-width: 50px;\n    width: 50px;\n    height: 50px;\n    border-radius: 999px;\n    background-color: var(--secondary-bg);\n    color: white;\n  }\n"]);return Tn=function(){return e},e}var Rn=me.a.div(Tn()),Wn=x()(Qn(),N),Hn=function(e){var n=e.history,t=e.users,a=e.groupName,i=e.groupPicture,c=Object(We.a)(Wn,{variables:{userIds:t.map(function(e){return e.id}),groupName:a,groupPicture:i},update:function(e,n){var t,a=n.data.addGroup;e.writeFragment({id:Object(s.b)(a),fragment:N,fragmentName:"Chat",data:a});try{t=e.readQuery({query:M}).chats}catch(r){}t&&!t.some(function(e){return e.id===a.id})&&(t.unshift(a),e.writeQuery({query:M,data:{chats:t}}))}});return r.createElement(Rn,{className:"CompleteGroupButton"},r.createElement(xe.a,{variant:"contained",color:"secondary",onClick:function(){c().then(function(){n.push("/chats")})}},r.createElement(Pn.a,null)))};function Jn(){var e=Object(b.a)(["\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  margin-left: -20px;\n\n  .GroupDetailsNavbar-title {\n    line-height: 56px;\n  }\n\n  .GroupDetailsNavbar-back-button {\n    color: var(--primary-text);\n  }\n"]);return Jn=function(){return e},e}var Xn=me.a.div(Jn()),Kn=function(e){var n=e.history,t=e.chatId;return r.createElement(Xn,{className:"GroupDetailsNavbar"},r.createElement(xe.a,{className:"GroupDetailsNavbar-back-button",onClick:function(){t?n.push("/chats/".concat(t)):n.push("/new-chat/group")}},r.createElement(_e.a,null)),r.createElement("div",{className:"GroupDetailsNavbar-title"},"Group Details"))};function Vn(){var e=Object(b.a)(["\n  mutation GroupDetailsScreenMutation($chatId: ID!, $name: String, $picture: String) {\n    updateChat(chatId: $chatId, name: $name, picture: $picture) {\n      ...Chat\n    }\n  }\n  ","\n"]);return Vn=function(){return e},e}function Yn(){var e=Object(b.a)(["\n  query GroupDetailsScreenQuery($chatId: ID!) {\n    chat(chatId: $chatId) {\n      ...Chat\n    }\n  }\n  ","\n"]);return Yn=function(){return e},e}function Zn(){var e=Object(b.a)(["\n  .GroupDetailsScreen-group-name {\n    width: calc(100% - 30px);\n    margin: 15px;\n  }\n\n  .GroupDetailsScreen-participants-title {\n    margin-top: 10px;\n    margin-left: 15px;\n  }\n\n  .GroupDetailsScreen-participants-list {\n    display: flex;\n    overflow: overlay;\n    padding: 0;\n  }\n\n  .GroupDetailsScreen-participant-item {\n    padding: 10px;\n    flex-flow: row wrap;\n    text-align: center;\n  }\n\n  .GroupDetailsScreen-participant-picture {\n    flex: 0 1 50px;\n    height: 50px;\n    width: 50px;\n    object-fit: cover;\n    border-radius: 50%;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  .GroupDetailsScreen-group-info {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  .GroupDetailsScreen-participant-name {\n    line-height: 10px;\n    font-size: 14px;\n  }\n\n  .GroupDetailsScreen-group-picture {\n    width: 50px;\n    flex-basis: 50px;\n    border-radius: 50%;\n    margin-left: 15px;\n    object-fit: cover;\n    ","\n  }\n"]);return Zn=function(){return e},e}var et=me.a.div(Zn(),function(e){return e.ownedByMe&&"cursor: pointer;"}),nt=x()(Yn(),N),tt=x()(Vn(),N),at=function(e){var n,t,a,i,c,u,l=e.location,p=e.match,m=e.history,d=p.params.chatId,h=J();if(d){var b=Object(f.a)(nt,{variables:{chatId:d}}).data.chat;n=b.owner.id===h.id,a=(t=b.allTimeMembers).slice(),n?(c=Object(r.useState)(b.name),u=Object(r.useState)(b.picture)):(c=[b.name,function(){}],u=[b.picture,function(){}]);var v=c,x=Object(T.a)(v,1)[0],y=u,w=Object(T.a)(y,1)[0];i=Object(We.a)(tt,{variables:{chatId:d,name:x,picture:w},optimisticResponse:{__typename:"Mutation",updateChat:Object(o.a)({},b,{__typename:"Chat",picture:w,name:x})},update:function(e,n){n.data.updateChat;b.picture=w,b.name=x,e.writeFragment({id:Object(s.b)(b),fragment:N,fragmentName:"Chat",data:b})}}),Object(r.useEffect)(function(){w!==b.picture&&i()},[w])}else n=!0,i=function(){},c=Object(r.useState)(""),u=Object(r.useState)(""),t=l.state.users,a=[h].concat(t);if(!(t instanceof Array))return r.createElement(g.a,{to:"/chats"});var E=a.findIndex(function(e){return e.id===h.id});a.splice(E,1),a.unshift(h);var j=c,O=Object(T.a)(j,2),C=O[0],S=O[1],k=u,M=Object(T.a)(k,2),I=M[0],L=M[1],A=function(){var e=Object(zn.a)($n.a.mark(function e(){var t,a,r;return $n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_n();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,Bn(t);case 9:a=e.sent,r=a.url,L(r);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return r.createElement(et,{className:"GroupDetailsScreen Screen",ownedByMe:n},r.createElement(Le,null,r.createElement(Kn,{chatId:d,history:m})),r.createElement("div",{className:"GroupDetailsScreen-group-info"},r.createElement("img",{className:"GroupDetailsScreen-group-picture",src:I||"/assets/default-group-pic.jpg",onClick:A}),r.createElement(we.a,{label:"Group name",placeholder:"Enter group name",className:"GroupDetailsScreen-group-name",value:C,onChange:function(e){var n=e.target;S(n.value)},onBlur:i,disabled:!n,autoFocus:!0})),r.createElement("div",{className:"GroupDetailsScreen-participants-title"},"Participants: ",a.length),r.createElement("ul",{className:"GroupDetailsScreen-participants-list"},a.map(function(e){return r.createElement("div",{key:e.id,className:"GroupDetailsScreen-participant-item"},r.createElement("img",{src:e.picture||"/assets/default-profile-pic.jpg",className:"GroupDetailsScreen-participant-picture"}),r.createElement("span",{className:"GroupDetailsScreen-participant-name"},e.name))})),!d&&C&&r.createElement(Hn,{history:m,groupName:C,groupPicture:I,users:t}))},rt=t(158),it=t(154),ct=t.n(it);function ot(){var e=Object(b.a)(["\n  query UsersListQuery {\n    users {\n      ...User\n    }\n  }\n  ","\n"]);return ot=function(){return e},e}function st(){var e=Object(b.a)(["\n  .UsersList-users-list {\n    padding: 0;\n  }\n\n  .UsersList-user-item {\n    position: relative;\n    padding: 7.5px 15px;\n    display: flex;\n    ","\n  }\n\n  .UsersList-profile-pic {\n    height: 50px;\n    width: 50px;\n    object-fit: cover;\n    border-radius: 50%;\n  }\n\n  .UsersList-name {\n    padding-left: 15px;\n    font-weight: bold;\n  }\n\n  .UsersList-checkmark {\n    position: absolute;\n    left: 50px;\n    top: 35px;\n    color: var(--secondary-bg);\n    background-color: white;\n    border-radius: 50%;\n  }\n"]);return st=function(){return e},e}var ut=me.a.div(st(),function(e){return e.selectable&&"cursor: pointer;"}),lt=x()(ot(),S),pt=function(e){var n=Object(o.a)({selectable:!1,onSelectionChange:function(){},onUserPick:function(){}},e),t=n.selectable,a=n.onSelectionChange,i=n.onUserPick,c=Object(r.useState)([]),s=Object(T.a)(c,2),u=s[0],l=s[1],p=Object(f.a)(lt).data.users,m=function(e){if(!t)return i(e);if(u.includes(e)){var n=u.indexOf(e);u.splice(n,1)}else u.push(e);l(Object(rt.a)(u)),a(u)};return r.createElement(ut,{className:"UsersList",selectable:t},r.createElement(De.a,{className:"UsersList-users-list"},p&&p.map(function(e){return r.createElement(Ue.a,{className:"UsersList-user-item",key:e.id,button:!0,onClick:m.bind(null,e)},r.createElement("img",{className:"UsersList-profile-pic",src:e.picture||"/assets/default-profile-pic.jpg"}),r.createElement("div",{className:"UsersList-name"},e.name),u.includes(e)&&r.createElement(ct.a,{className:"UsersList-checkmark"}))})))};function mt(){var e=Object(b.a)(["\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  margin-left: -20px;\n\n  .NewChatNavbar-title {\n    line-height: 56px;\n  }\n\n  .NewChatNavbar-back-button {\n    color: var(--primary-text);\n  }\n"]);return mt=function(){return e},e}var dt=me.a.div(mt()),ht=function(e){var n=e.history;return r.createElement(dt,{className:"NewChatNavbar"},r.createElement(xe.a,{className:"NewChatNavbar-back-button",onClick:function(){n.push("/chats")}},r.createElement(_e.a,null)),r.createElement("div",{className:"NewChatNavbar-title"},"New Chat"))},ft=t(155),gt=t.n(ft);function bt(){var e=Object(b.a)(["\n  display: flex;\n  width: calc(100% - 9px);\n  padding-left: 9px;\n\n  button {\n    text-transform: none;\n    font-size: inherit;\n    width: 100%;\n    justify-content: flex-start;\n\n    svg {\n      font-size: 30px;\n      margin-top: 10px;\n    }\n  }\n\n  .NewGroupButton-icon {\n    height: 50px;\n    width: 50px;\n    object-fit: cover;\n    border-radius: 50%;\n    color: white;\n    background-color: var(--secondary-bg);\n  }\n\n  .NewGroupButton-title {\n    padding-left: 15px;\n    font-weight: bold;\n  }\n"]);return bt=function(){return e},e}var vt=me.a.div(bt()),xt=function(e){var n=e.history;return r.createElement(vt,null,r.createElement(xe.a,{onClick:function(){n.push("/new-chat/group")}},r.createElement("div",{className:"NewGroupButton-icon"},r.createElement(gt.a,null)),r.createElement("div",{className:"NewGroupButton-title"},"New Group")))};function yt(){var e=Object(b.a)(["\n  mutation NewChatScreenMutation($userId: ID!) {\n    addChat(userId: $userId) {\n      ...Chat\n    }\n  }\n  ","\n"]);return yt=function(){return e},e}function wt(){var e=Object(b.a)(["\n  .UsersList {\n    height: calc(100% - 56px);\n  }\n\n  .NewChatScreen-users-list {\n    height: calc(100% - 56px);\n    overflow-y: overlay;\n  }\n"]);return wt=function(){return e},e}var Et=me.a.div(wt()),Nt=x()(yt(),N),jt=function(e){var n=e.history,t=J(),a=Object(We.a)(Nt,{update:function(e,n){var t,a=n.data.addChat;e.writeFragment({id:Object(s.b)(a),fragment:N,fragmentName:"Chat",data:a});try{t=e.readQuery({query:M}).chats}catch(r){}t&&!t.some(function(e){return e.id===a.id})&&(t.unshift(a),e.writeQuery({query:M,data:{chats:t}}))}});return r.createElement(Et,{className:"NewChatScreen Screen"},r.createElement(Le,null,r.createElement(ht,{history:n})),r.createElement("div",{className:"NewChatScreen-users-list"},r.createElement(xt,{history:n}),r.createElement(r.Suspense,{fallback:null},r.createElement(pt,{onUserPick:function(e){a({optimisticResponse:{__typename:"Mutation",addChat:{__typename:"Chat",id:Object(tn.time)(),name:e.name,picture:e.picture,allTimeMembers:[],owner:t,isGroup:!1,lastMessage:null}},variables:{userId:e.id}}).then(function(e){var t=e.data.addChat;n.push("/chats/".concat(t.id))})}}))))},Ot=t(156),Ct=t.n(Ot);function St(){var e=Object(b.a)(["\n  position: fixed;\n  right: 10px;\n  bottom: 10px;\n\n  button {\n    min-width: 50px;\n    width: 50px;\n    height: 50px;\n    border-radius: 999px;\n    background-color: var(--secondary-bg);\n    color: white;\n  }\n"]);return St=function(){return e},e}var kt=me.a.div(St()),Mt=function(e){var n=e.history,t=e.users;return r.createElement(kt,{className:"CreateGroupButton"},r.createElement(xe.a,{variant:"contained",color:"secondary",onClick:function(){n.push("/new-chat/group/details",{users:t})}},r.createElement(Ct.a,null)))};function It(){var e=Object(b.a)(["\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  margin-left: -20px;\n\n  .NewGroupNavbar-title {\n    line-height: 56px;\n  }\n\n  .NewGroupNavbar-back-button {\n    color: var(--primary-text);\n  }\n"]);return It=function(){return e},e}var Lt=me.a.div(It()),At=function(e){var n=e.history;return r.createElement(Lt,{className:"NewGroupNavbar"},r.createElement(xe.a,{className:"NewGroupNavbar-back-button",onClick:function(){n.push("/new-chat")}},r.createElement(_e.a,null)),r.createElement("div",{className:"NewGroupNavbar-title"},"New Chat Group"))};function Dt(){var e=Object(b.a)(["\n  .UsersList {\n    height: calc(100% - 56px);\n    overflow-y: overlay;\n  }\n"]);return Dt=function(){return e},e}var Gt=me.a.div(Dt()),Ut=function(e){var n=e.history,t=Object(r.useState)([]),a=Object(T.a)(t,2),i=a[0],c=a[1];return r.createElement(Gt,{className:"NewGroupScreen Screen"},r.createElement(Le,null,r.createElement(At,{history:n})),r.createElement(r.Suspense,{fallback:null},r.createElement(pt,{selectable:!0,onSelectionChange:c})),!!i.length&&r.createElement(Mt,{history:n,users:i}))},Ft=t(157),$t=t.n(Ft);function zt(){var e=Object(b.a)(["\n  mutation SettingsFormMutation($name: String, $picture: String) {\n    updateUser(name: $name, picture: $picture) {\n      ...User\n    }\n  }\n  ","\n"]);return zt=function(){return e},e}function _t(){var e=Object(b.a)(["\n  .SettingsForm-picture {\n    max-width: 300px;\n    display: block;\n    margin: auto;\n    margin-top: 50px;\n\n    img {\n      object-fit: cover;\n      border-radius: 50%;\n      margin-bottom: -34px;\n      width: 300px;\n      height: 300px;\n    }\n\n    svg {\n      float: right;\n      font-size: 30px;\n      opacity: 0.5;\n      border-left: black solid 1px;\n      padding-left: 5px;\n      cursor: pointer;\n    }\n  }\n\n  .SettingsForm-name-input {\n    display: block;\n    margin: auto;\n    width: calc(100% - 50px);\n    margin-top: 50px;\n\n    > div {\n      width: 100%;\n    }\n  }\n"]);return _t=function(){return e},e}var Bt=me.a.div(_t()),qt=x()(zt(),S),Pt=function(e){e.history;var n=J(),t=Object(r.useState)(n.name),a=Object(T.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(n.picture),u=Object(T.a)(o,2),l=u[0],p=u[1],m=Object(We.a)(qt,{variables:{name:i,picture:l},optimisticResponse:{__typename:"Mutation",updateUser:{__typename:"User",id:n.id,picture:l,name:i}},update:function(e,t){t.data.updateUser;n.picture=l,n.name=l,e.writeFragment({id:Object(s.b)(n),fragment:S,data:n})}});Object(r.useEffect)(function(){l!==n.picture&&m()},[l]);var d=function(){var e=Object(zn.a)($n.a.mark(function e(){var n,t,a;return $n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Bn(n);case 7:t=e.sent,a=t.url,p(a);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return r.createElement(Bt,{className:name},r.createElement("div",{className:"SettingsForm-picture"},r.createElement("img",{src:l||"/assets/default-profile-pic.jpg"}),r.createElement($t.a,{onClick:d})),r.createElement(we.a,{className:"SettingsForm-name-input",label:"Name",value:i,onChange:function(e){var n=e.target;c(n.value)},onBlur:m,margin:"normal",placeholder:"Enter your name"}))};function Qt(){var e=Object(b.a)(["\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  margin-left: -20px;\n\n  .SettingsNavbar-title {\n    line-height: 56px;\n  }\n\n  .SettingsNavbar-back-button {\n    color: var(--primary-text);\n  }\n\n  .SettingsNavbar-picture {\n    height: 40px;\n    width: 40px;\n    margin-top: 3px;\n    margin-left: -22px;\n    object-fit: cover;\n    padding: 5px;\n    border-radius: 50%;\n  }\n"]);return Qt=function(){return e},e}var Tt=me.a.div(Qt()),Rt=function(e){var n=e.history;return r.createElement(Tt,{className:name},r.createElement(xe.a,{className:"SettingsNavbar-back-button",onClick:function(){n.push("/chats")}},r.createElement(_e.a,null)),r.createElement("div",{className:"SettingsNavbar-title"},"Settings"))},Wt=function(e){var n=e.history;return r.createElement("div",{className:"SettingsScreen Screen"},r.createElement(Le,null,r.createElement(Rt,{history:n})),r.createElement(r.Suspense,{fallback:null},r.createElement(Pt,null)))},Ht=function(){return r.createElement(g.a,{to:"/chats"})},Jt=function(){return r.createElement(le.a,null,r.createElement(be,null,r.createElement(pe.a,{exact:!0,path:"/sign-(in|up)",component:Ce}),r.createElement(pe.a,{exact:!0,path:"/chats",component:X(Un)}),r.createElement(pe.a,{exact:!0,path:"/settings",component:X(Wt)}),r.createElement(pe.a,{exact:!0,path:"/chats/:chatId",component:X(bn)}),r.createElement(pe.a,{exact:!0,path:"/new-chat",component:X(jt)}),r.createElement(pe.a,{exact:!0,path:"/new-chat/group",component:X(Ut)}),r.createElement(pe.a,{exact:!0,path:"/new-chat/group/details",component:X(at)}),r.createElement(pe.a,{exact:!0,path:"/chats/:chatId/details",component:X(at)}),r.createElement(pe.a,{component:Ht})))},Xt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Kt(){if("serviceWorker"in navigator){if(new URL(".",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");Xt?(!function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Vt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Vt(e)})}}function Vt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}t(344);var Yt=Object(a.createMuiTheme)({palette:{primary:{main:"#2c6157"},secondary:{main:"#6fd056"}},typography:{useNextVariants:!0}}),Zt=function(){c.render(r.createElement(a.MuiThemeProvider,{theme:Yt},r.createElement(i.a,{client:ue},r.createElement(r.Suspense,{fallback:null},r.createElement(Jt,null)))),document.getElementById("root")),Kt()};window.cordova?document.addEventListener("deviceready",Zt,!1):Zt()}},[[162,2,1]]]);
//# sourceMappingURL=main.cfa49427.chunk.js.map